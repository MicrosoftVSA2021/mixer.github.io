var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1752:function(e,t,s){"use strict";s.d(t,"a",function(){return n});const n=(e,t)=>Intl.NumberFormat(navigator.language,t).format(e)},1791:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(6),r=s(54),o=s(59);const a=(e,t)=>{return Object(r.connect)(void 0,e=>({listen:(s,n)=>{e(Object(o.c)({userId:n,channelId:s,realtime:t.realtime}))},unlisten:(s,n)=>{e(Object(o.d)({userId:n,channelId:s,realtime:t.realtime}))}}))(class extends n.PureComponent{componentDidMount(){this.props.userId&&this.props.listen(this.props.channelId,this.props.userId)}componentDidUpdate(e){this.props.userId===e.userId&&this.props.channelId===e.channelId||(e.userId&&this.props.unlisten(e.channelId,e.userId),this.props.userId&&this.props.listen(this.props.channelId,this.props.userId))}componentWillUnmount(){this.props.userId&&this.props.unlisten(this.props.channelId,this.props.userId)}render(){return n.createElement(e,this.props)}})}},1820:function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s(6),r=s(54),o=s(1711);const a=(e,t)=>{return Object(r.connect)((t,s)=>({enabled:Object(o.b)(t,s.channelId,s[e])}))(class extends n.PureComponent{render(){return this.props.enabled?n.createElement(t,this.props):null}})}},1821:function(e,t,s){"use strict";s.d(t,"a",function(){return p});var n=s(42),r=s(6),o=s(153),a=s(1887);const i=(e,t)=>{const s=[],n=360/e;for(let o=0;o<e;o++)s.push(r.createElement("div",{key:o,className:a.ray,style:{height:.1*t+Math.random(),width:.8*t+Math.random()*t*.2,transform:`perspective(100px) rotateZ(${n*o}deg) rotateY(-60deg)`,animationDelay:`-${Math.random()}s`}}));return s};class p extends r.PureComponent{constructor(){super(...arguments),this.rays=i(15,this.props.haloSize||this.props.size)}render(){return r.createElement("div",{className:Object(n.classes)([a.badge,this.props.hostClass,this.props.dramatic&&a.dramatic]),style:{color:this.props.level.color}},r.createElement("div",{className:a.rays},this.rays),r.createElement("img",{src:Object(o.h)(this.props.level.assetsUrl),role:"presentation",style:{width:this.props.size}}))}}},1822:function(e,t,s){e.exports={dialog:"dialog_2eb78",wrapper:"wrapper_1oZPz",title:"title_1v7cz",description:"description_2fZV-",close:"close_vnMAd",host:"host_2kezh"}},1885:function(e,t,s){e.exports={badge:"badge_3LFXw"}},1886:function(e,t,s){e.exports={header:"header_3_-sm",bg:"bg_XlG-z",badge:"badge_13TwR",content:"content_2uzO_"}},1887:function(e,t,s){e.exports={badge:"badge_3nSBh",dramatic:"dramatic_xrelD",rays:"rays_lfVLe",ray:"ray_YwviB","level-entrance":"level-entrance_3w85u"}},1888:function(e,t,s){e.exports={text:"text_1dQeX",xp:"xp_zXzzg",rank:"rank_C68PN",progress:"progress_3LBiV"}},1889:function(e,t,s){e.exports={title:"title_Wp5DV",item:"item_2RESZ",icon:"icon_1ET3C",value:"value_JC3uD"}},1890:function(e,t,s){e.exports={host:"host_1ECkN"}},1891:function(e,t,s){e.exports={tooltip:"tooltip_ScPgY",content:"content_1OTgc"}},1892:function(e,t,s){e.exports={exclamation:"exclamation_1RJbC"}},1893:function(e,t,s){e.exports={loader:"loader_2Ldsu",spin:"spin_1ZdbO"}},1894:function(e,t,s){e.exports={badge:"badge_3_X9a",pulse:"pulse_QFHv9",wrapper:"wrapper_2hlPN",to:"to_1HQo1",particle:"particle_3H7Kf",animated:"animated_2Xc-d",from:"from_aByMA",burstOut:"burstOut_14p9j",burstIn:"burstIn_2A5Yp",static:"static_2HTQY",staticBoop:"staticBoop_2vaT7",glow:"glow_3Zjac"}},1895:function(e,t,s){e.exports={bubble:"bubble_2vHIy",flyup:"flyup_GuJm_",icon:"icon_2jv4i",backdrop:"backdrop_sQL1N",flash:"flash_3U0pb"}},1896:function(e,t,s){e.exports={badge:"badge_3QuKt"}},2044:function(e,t,s){"use strict";s.d(t,"a",function(){return u});var n=s(50),r=s(6),o=s(54),a=s(59),i=s(153),p=s(1885),l=s(1791),c=s(1820);const h=Object(o.connect)((e,t)=>({levels:Object(i.j)(t.channelId)(e)}),e=>({getLevels:t=>{e(a.f.request({channelId:t}))}}))(class extends r.PureComponent{componentDidMount(){Object(n.b)(this.props.levels)&&this.props.getLevels(this.props.channelId)}render(){const{levels:e,size:t=12}=this.props,s=2===e.state&&e.value.levels.find(e=>e.level===this.props.level);if(!s)return null;const n=Math.round(.8*t);let o=`url(${Object(i.g)(s.assetsUrl)}) 4px / ${n}px no-repeat,`;return s.gradient?o+=`linear-gradient(to right, ${s.color}, ${s.complement})`:o+=s.color,r.createElement("span",{className:p.badge,style:{fontSize:t,paddingLeft:t+6,background:o}},s.level)}}),u=Object(c.a)("currentUserId",Object(l.a)(h,{realtime:!1}))},2092:function(e,t,s){"use strict";var n=s(6),r=s(54),o=s(153),a=s(128),i=s(403),p=s(1791),l=s(42),c=s(1891);class h extends n.PureComponent{constructor(){super(...arguments),this.close=(e=>{e.preventDefault(),this.props.close()})}render(){return n.createElement("div",{className:c.tooltip},n.createElement("div",{className:c.content,role:"tooltip"},n.createElement("span",{style:{flex:1}},"Rank up in " + this.props.channelName + "'s channel! "),n.createElement(l.BuiBtn,{icon:!0,onClick:this.close,"aria-label":"Cancel"},n.createElement(l.BuiIcon,{icon:"Close"}))))}}var u=s(1820),d=s(1896),m=s(1752),b=s(1895);const g=1500;class v extends n.PureComponent{componentDidMount(){this.completeTimeout=setTimeout(()=>this.props.onComplete(this.props.id),g)}componentWillUnmount(){clearTimeout(this.completeTimeout)}render(){const{color:e,complement:t}=this.props.level;return n.createElement("div",{className:b.bubble,style:{left:`${50+this.props.offsetLeft}%`,bottom:`${100-this.props.offsetTop}%`}},n.createElement("span",{"aria-label":"You earned " + this.props.amount + " experience! "},"+",n.createElement(l.BuiIcon,{hostClass:b.icon,set:"mixer",icon:"MixerHeartSolid"}),Object(m.a)(this.props.amount),n.createElement("div",{className:b.backdrop,style:{background:`linear-gradient(${e}, ${t})`}})))}}var f=s(1894);const E=8;class x extends n.PureComponent{constructor(e){super(e),this.state={started:!1},this.particles=[];const t=360/E;for(let e=0;e<E;e++)this.particles.push(n.createElement("div",{key:e,className:f.particle,style:{transform:`rotate(${e*t}deg) translateX(${.6*this.props.size}px)`}}))}componentDidMount(){this.timeout=setTimeout(()=>{this.setState({started:!0}),this.timeout=setTimeout(this.props.onComplete,1e3)},500)}componentWillUnmount(){clearTimeout(this.timeout)}render(){const{color:e,complement:t}=this.state.started?this.props.to:this.props.from;return n.createElement("div",{style:{color:e},className:Object(l.classes)([this.state.started&&f.animated,f.wrapper])},n.createElement("div",{className:f.pulse,style:{background:`linear-gradient(-45deg, ${e}, ${t})`}}),this.particles,this.props.to.level!==this.props.from.level?n.createElement(n.Fragment,null,n.createElement("div",{className:Object(l.classes)([f.badge,f.to])},this.props.toBadge()),n.createElement("div",{className:Object(l.classes)([f.badge,f.from])},this.props.fromBadge())):n.createElement("div",{className:Object(l.classes)([f.badge,f.static])},this.props.toBadge()))}}class N extends n.PureComponent{render(){const{size:e,color:t,lineWidth:s,progress:r,hostClass:o}=this.props,a=e*Math.PI,i=this.props.size/2,p=1===r?0:(1-.95*r)*a;return n.createElement("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,style:{transform:"rotate(-90deg)",display:"block"},className:o},n.createElement("circle",{cx:i,cy:i,r:i-s/2,fill:"none",stroke:t,strokeWidth:s,style:{strokeDasharray:a,strokeDashoffset:p,transition:"500ms"}}))}}const C=.75;class w extends n.PureComponent{constructor(e){super(e),this.xpEarningIdCounter=0,this.renderTransitionFromBadge=(()=>this.renderBadge(this.state.current.assetsUrl)),this.renderTransitionToBadge=(()=>this.renderBadge(this.state.transitionTo.assetsUrl)),this.clearBubble=(e=>{this.setState({earnings:this.state.earnings.filter(t=>t.id!==e)})}),this.finishTransition=(()=>{this.setState({current:this.props.progression,transitionTo:void 0,progress:Object(o.i)(this.props.progression)})}),this.state={progress:Object(o.i)(this.props.progression),current:this.props.progression,earnings:[]}}componentDidUpdate(e){if(!this.state.transitionTo&&(this.props.progression===this.state.current||this.state.transitionTo||this.updateStateLevelAndProgress(),e.progression.currentXp<this.props.progression.currentXp)){const t=this.state.earnings.length,s={amount:this.props.progression.currentXp-e.progression.currentXp,id:this.xpEarningIdCounter++,pushX:t*(Math.random()-.5)*10,pushY:t*Math.random()*10};this.setState({earnings:this.state.earnings.concat(s)})}}render(){return n.createElement(n.Fragment,null,n.createElement(N,{progress:this.state.progress,lineWidth:2,size:this.props.size,color:this.state.current.color}),this.state.transitionTo?n.createElement(x,{size:this.props.size,from:this.state.current,to:this.state.transitionTo,fromBadge:this.renderTransitionFromBadge,toBadge:this.renderTransitionToBadge,onComplete:this.finishTransition}):this.renderBadge(this.state.current.assetsUrl),this.state.earnings.map(e=>n.createElement(v,{level:this.state.current,key:e.id,amount:e.amount,id:e.id,offsetLeft:e.pushX,offsetTop:e.pushY,onComplete:this.clearBubble})))}renderBadge(e){let t=Math.floor(this.props.size*C);t%2==1&&t++;const s=this.props.size/2;return n.createElement("img",{className:d.badge,src:Object(o.k)(e),style:{width:t,top:s+t/-2,left:s+t/-2}})}updateStateLevelAndProgress(){const e=Object(o.i)(this.props.progression),t=this.state.current.level,s=this.props.progression.level;s!==t?this.setState({transitionTo:this.props.progression,progress:s>t?1:0}):this.state.progress!==e&&this.setState({progress:e})}}var k=s(1892);class I extends n.PureComponent{render(){return n.createElement(n.Fragment,null,n.createElement(N,{progress:1,lineWidth:2,size:this.props.size,color:"#f00"}),n.createElement("span",{className:k.exclamation},"!"))}}var O=s(1890),y=s(1893);class _ extends n.PureComponent{render(){return n.createElement("div",{className:y.loader,style:{fontSize:this.props.size}})}}s.d(t,"a",function(){return M});const j=Object(r.connect)((e,{channelId:t})=>({progression:Object(o.e)(t)(e),tooltip:Object(i.b)(e)}),e=>({closeTooltip(){e(Object(a.a)())}}))(Object(p.a)(class extends n.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{!e.defaultPrevented&&this.props.onClick&&(this.props.onClick(),this.props.tooltip&&this.props.closeTooltip())})}componentDidMount(){2===this.props.progression.state&&this.props.onExperienceChange&&this.props.onExperienceChange(this.props.progression.value.currentXp)}componentDidUpdate(e){2===e.progression.state&&2===this.props.progression.state&&this.props.onExperienceChange&&e.progression.value.currentXp!==this.props.progression.value.currentXp&&this.props.onExperienceChange(this.props.progression.value.currentXp)}render(){const e=2===this.props.progression.state;return n.createElement("div",{className:O.host,onClick:this.onClick,role:"button",tabIndex:e?0:-1,"aria-hidden":!e,"aria-label":2===this.props.progression.state?"You are rank " + this.props.progression.value.level + ", press Enter to learn more ":void 0},this.props.tooltip&&n.createElement(h,{channelName:this.props.tooltip.channelName,close:this.props.closeTooltip}),this.getContents())}getContents(){return 3===this.props.progression.state?n.createElement(I,{size:this.props.size}):2!==this.props.progression.state?n.createElement(_,{size:this.props.size}):n.createElement(w,{progression:this.props.progression.value,size:this.props.size})}},{realtime:!0})),M=Object(u.a)("userId",j)},2094:function(e,t,s){"use strict";var n=s(50),r=s(6),o=s(54),a=s(59),i=s(153),p=s(128),l=s(403),c=s(1791),h=s(1821),u=s(42),d=s(1752),m=s(1888);class b extends r.PureComponent{render(){const e="Rank " + this.props.current.level + ", " + this.props.current.currentXp + " out of " + this.props.current.nextLevelXp + " hearts. ";return r.createElement("div",{"aria-label":e},r.createElement("div",{className:m.text},r.createElement("span",{className:m.rank},"Rank " + this.props.current.level + "",":"),r.createElement("span",{className:m.xp},r.createElement(u.BuiIcon,{set:"mixer",icon:"MixerHeartSolid"})," ",this.renderXpText())),r.createElement(u.ProgressBar,{progress:Object(i.i)(this.props.current),foreground:this.props.current.color,background:"#171E2A",height:6,className:m.progress}))}renderXpText(){const{next:e,current:t}=this.props;return e?`${Object(d.a)(t.currentXp-t.minXp)} / ${Object(d.a)(e.minXp-t.minXp)}`:`${Object(d.a)(t.currentXp)} / ∞`}}var g=s(1886);class v extends r.PureComponent{render(){const e=this.props.levels.find(e=>e.level===this.props.userLevel.level+1),t=2===this.props.channel.state&&this.props.channel.value.name;return r.createElement("div",{className:g.header},r.createElement("h1",null,"Earn Hearts to rank up",r.createElement("small",null,t&&"In " + t + "'s channel ")),r.createElement(h.a,{hostClass:g.badge,size:120,haloSize:100,level:this.props.userLevel}),r.createElement(b,{current:this.props.userLevel,next:e}),r.createElement("div",{className:g.bg,style:{background:`linear-gradient(${this.props.userLevel.color}, ${this.props.userLevel.complement})`}}))}}var f=s(1889);const E=e=>r.createElement("div",{className:f.item},r.createElement(u.BuiIcon,{set:"mixer",icon:e.icon,hostClass:f.icon}),r.createElement("div",null,r.createElement("h3",null,e.title),r.createElement("p",null,e.description)),r.createElement("span",{className:f.value},r.createElement(u.BuiIcon,{set:"mixer",icon:"MixerHeartSolid","aria-label":"Hearts Value"})," ",Object(d.a)(e.value))),x=e=>!(!e||!e.weight),N=10,C=e=>Math.round(1/e*N);class w extends r.PureComponent{render(){const e=this.props.weights;return r.createElement(r.Fragment,null,r.createElement("h2",{className:f.title},"How to Rank Up"),x(e.watch)&&r.createElement(E,{title:"Watch",description:"Earn Hearts for every five minutes you watch " + this.props.channelName + "",icon:e.watch.icon,value:e.watch.weight}),x(e.chat)&&r.createElement(E,{title:"Chat",description:"Earn Hearts when you chat in " + this.props.channelName + "'s channel ",icon:e.chat.icon,value:e.chat.weight}),x(e.applause)&&r.createElement(E,{title:"Applause",description:"Earn Hearts when you receive applause in " + this.props.channelName + "'s channel ",icon:e.applause.icon,value:e.applause.weight}),x(e.follow)&&r.createElement(E,{title:"Follow",description:"Earn Hearts when you follow " + this.props.channelName + "",icon:e.follow.icon,value:e.follow.weight}),x(e.subscribe)&&r.createElement(E,{title:"Subscribe",description:"Earn Hearts when you subscribe to " + this.props.channelName + "",icon:e.subscribe.icon,value:e.subscribe.weight}),x(e.sendSubGift)&&r.createElement(E,{title:"Gift Subscription",description:"Earn Hearts when you gift subscriptions to other viewers",icon:e.sendSubGift.icon,value:e.sendSubGift.weight}),x(e.spark)&&r.createElement(E,{title:"Sparks",description:`Support broadcasters and earn ${N} Hearts for every ${C(e.spark.weight)} Sparks spent`,icon:e.spark.icon,value:N}),x(e.ember)&&r.createElement(E,{title:"Embers",description:"Support broadcasters and earn Hearts for every Ember spent",icon:e.ember.icon,value:e.ember.weight}))}}s.d(t,"a",function(){return k});const k=Object(o.connect)((e,{channelId:t})=>({userLevel:Object(i.e)(t)(e),levels:Object(i.j)(t)(e),channelData:Object(l.a)(t)(e)}),e=>({opened(t){e(Object(p.b)({level:t}))},getChannelData(t){e(p.e.request({channelId:t}))},loadLevels(t){e(a.f.request({channelId:t}))}}))(Object(c.a)(class extends r.PureComponent{componentDidMount(){this.loadDataAndLevelsIfNecessary(),this.sendOpenData()}componentDidUpdate(e){e.channelId!==this.props.channelId?(this.loadDataAndLevelsIfNecessary(),this.sendOpenData()):this.props.userLevel.state!==e.userLevel.state&&this.sendOpenData()}render(){if(2!==this.props.levels.state||2!==this.props.userLevel.state)return null;const e=2===this.props.channelData.state?this.props.channelData.value:void 0;return r.createElement(r.Fragment,null,r.createElement(v,{levels:this.props.levels.value.levels,userLevel:this.props.userLevel.value,channel:this.props.channelData}),e&&r.createElement(w,{weights:this.props.levels.value.weights,channelName:e.name,isPartner:e.partner}))}loadDataAndLevelsIfNecessary(){Object(n.b)(this.props.levels)&&this.props.loadLevels(this.props.channelId),Object(n.b)(this.props.channelData)&&this.props.getChannelData(this.props.channelId)}sendOpenData(){2===this.props.userLevel.state&&this.props.opened(this.props.userLevel.value.level)}},{realtime:!0}))},2096:function(e,t,s){"use strict";var n=s(6),r=s(54),o=s(128),a=s(403),i=s(42),p=s(1821),l=s(1822);const c=[];for(let e=0;e<15;e++)c.push(n.createElement("div",{key:e,className:l.ray,style:{height:10+Math.random(),width:80+20*Math.random(),transform:`perspective(100px) rotateZ(${24*e}deg) rotateY(-60deg)`,animationDelay:`-${Math.random()}s`}}));const h=Object(i.ModalBase)(class extends n.PureComponent{componentDidMount(){setTimeout(this.props.close,2e4)}componentWillUnmount(){clearTimeout(this.timeout)}render(){return n.createElement("div",{onClick:this.props.close,className:l.wrapper},n.createElement(i.BuiBtn,{className:l.close,icon:!0,onClick:this.props.close},n.createElement(i.BuiIcon,{set:"mixer",icon:"Close"})),n.createElement(p.a,{size:125,level:this.props.level,dramatic:!0}),n.createElement("h2",{className:l.title},"Rank up!"),n.createElement("p",{className:l.description},"Congrats! You've ranked up in " + this.props.channel + "'s channel. Thank for for all your continued support of " + this.props.channel + "! "))}},{className:l.dialog});class u extends n.PureComponent{render(){return n.createElement("div",{className:l.host},n.createElement(h,{root:"here",close:this.props.dismiss,level:this.props.modal.toLevel,channel:this.props.modal.channelName}))}}s.d(t,"a",function(){return d});const d=Object(r.connect)(e=>({modal:Object(a.c)(e)}),e=>({dismiss:()=>e(Object(o.c)())}))(class extends n.PureComponent{render(){if(!this.props.modal)return null;switch(this.props.modal.kind){case 0:return n.createElement(u,{root:this.props.root,modal:this.props.modal,dismiss:this.props.dismiss})}}})}}]);
//# sourceMappingURL=6.en-US-04310f50be6748b12338.bundle.js.map

}
/*
     FILE ARCHIVED ON 23:51:13 May 28, 2019 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 06:51:27 Dec 05, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 199.259
  exclusion.robots: 134.996
  exclusion.robots.policy: 134.982
  xauthn.identify: 106.106
  xauthn.chkprivs: 28.512
  RedisCDXSource: 0.776
  esindex: 0.014
  LoadShardBlock: 39.311 (3)
  PetaboxLoader3.datanode: 51.348 (4)
  CDXLines.iter: 20.745 (3)
  load_resource: 49.47
  PetaboxLoader3.resolve: 22.485
*/